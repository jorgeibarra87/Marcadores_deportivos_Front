{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZonaSB\\\\Desktop\\\\Marcadores_Deportivos_Frontend_MongoDB\\\\src\\\\components\\\\PageLogin.js\";\nimport React, { Component } from \"react\";\nimport '../css/Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nclass PageLogin extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      form: {\n        name: '',\n        pwd: ''\n      }\n    };\n    this.handleChange = async e => {\n      await this.setState({\n        form: {\n          ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n      console.log(this.state.form);\n    };\n    this.iniciarSesion = async () => {\n      let name = this.state.form.name;\n      let pwd = this.state.form.pwd;\n      if (name === '' || pwd === '') {\n        alert('Se requieren todos los datos');\n        return 'Datos vacios';\n      }\n      await axios.get(process.env.REACT_APP_USUARIOS + \"/\" + name + \"/\" + pwd).then(response => {\n        return response.data;\n      }).then(response => {\n        console.log(response);\n        if (response) {\n          cookies.set(\"_id\", response._id, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_email\", response.usu_email, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_nombres\", response.usu_nombres, {\n            path: \"/\"\n          });\n          cookies.set(\"usu_apellidos\", response.usu_apellidos, {\n            path: \"/\"\n          });\n          cookies.set(\"per_id\", response.per_id, {\n            path: \"/\"\n          });\n          alert(\"Bienvenid@ \" + response.usu_nombres);\n          this.setState();\n          window.location.href = './PageInicio';\n        } else {}\n      }).catch(error => {\n        alert(\"Verificar usuario y/o contraseña\");\n        console.log(error);\n      });\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerPrincipal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSecundario\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Bienvenido!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h8\", {\n            children: \"Ir a marcadores deportivos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"exampleInputEmail1\",\n              class: \"form-label\",\n              children: \"Email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"name\",\n              class: \"form-control\",\n              id: \"exampleInputEmail1\",\n              onChange: this.handleChange,\n              \"aria-describedby\": \"emailHelp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"emailHelp\",\n              class: \"form-text\",\n              children: \"We'll never share your email with anyone else.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"pwd\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => this.iniciarSesion(),\n            children: \"Iniciar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default PageLogin;","map":{"version":3,"names":["React","Component","axios","Cookies","cookies","PageLogin","state","form","name","pwd","handleChange","e","setState","target","value","console","log","iniciarSesion","alert","get","process","env","REACT_APP_USUARIOS","then","response","data","set","_id","path","usu_email","usu_nombres","usu_apellidos","per_id","window","location","href","catch","error","render"],"sources":["C:/Users/ZonaSB/Desktop/Marcadores_Deportivos_Frontend_MongoDB/src/components/PageLogin.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport '../css/Login.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass PageLogin extends Component {\r\n  state = {\r\n    form: {\r\n      name: '',\r\n      pwd: ''\r\n    }\r\n  }\r\n\r\n  handleChange = async e => {\r\n    await this.setState({\r\n      form: {\r\n        ...this.state.form,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    })\r\n    console.log(this.state.form);\r\n  }\r\n\r\n  iniciarSesion = async () => {\r\n    let name = this.state.form.name\r\n    let pwd = this.state.form.pwd\r\n    if (name === '' || pwd === '') {\r\n      alert('Se requieren todos los datos')\r\n      return 'Datos vacios'\r\n    }\r\n\r\n    await axios.get(process.env.REACT_APP_USUARIOS + \"/\" + name + \"/\" + pwd)\r\n      .then(response => {\r\n        return response.data\r\n      }).then(response => {\r\n        console.log(response)\r\n        if (response) {\r\n          cookies.set(\"_id\", response._id, { path: \"/\" })\r\n          cookies.set(\"usu_email\", response.usu_email, { path: \"/\" })\r\n          cookies.set(\"usu_nombres\", response.usu_nombres, { path: \"/\" })\r\n          cookies.set(\"usu_apellidos\", response.usu_apellidos, { path: \"/\" })\r\n          cookies.set(\"per_id\", response.per_id, { path: \"/\" })\r\n          alert(\"Bienvenid@ \" + response.usu_nombres)\r\n          this.setState()\r\n          window.location.href = './PageInicio'\r\n        } else {\r\n        }\r\n      })\r\n      .catch(error => {\r\n        alert(\"Verificar usuario y/o contraseña\")\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"containerPrincipal\">\r\n        <div className=\"containerSecundario\">\r\n          <div className=\"form-group\">\r\n            <h1>Bienvenido!</h1>\r\n            <h8>Ir a marcadores deportivos</h8>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <div class=\"mb-3\">\r\n              <label for=\"exampleInputEmail1\" class=\"form-label\">Email address</label>\r\n              <input type=\"email\"\r\n                name=\"name\"\r\n                class=\"form-control\"\r\n                id=\"exampleInputEmail1\"\r\n                onChange={this.handleChange}\r\n                aria-describedby=\"emailHelp\" />\r\n              <div id=\"emailHelp\" class=\"form-text\">We'll never share your email with anyone else.</div>\r\n            </div>\r\n\r\n            <br />\r\n            <label>Contraseña</label>\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"pwd\"\r\n              onChange={this.handleChange}\r\n            />\r\n            <br />\r\n            <button className=\"btn btn-primary\" onClick={() => this.iniciarSesion()}>Iniciar sesión</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PageLogin;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,kBAAkB;AACzB,OAAO,sCAAsC;AAC7C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,kBAAkB;AAAC;AAEvC,MAAMC,OAAO,GAAG,IAAID,OAAO,EAAE;AAE7B,MAAME,SAAS,SAASJ,SAAS,CAAC;EAAA;IAAA;IAAA,KAChCK,KAAK,GAAG;MACNC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,GAAG,EAAE;MACP;IACF,CAAC;IAAA,KAEDC,YAAY,GAAG,MAAMC,CAAC,IAAI;MACxB,MAAM,IAAI,CAACC,QAAQ,CAAC;QAClBL,IAAI,EAAE;UACJ,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI;UAClB,CAACI,CAAC,CAACE,MAAM,CAACL,IAAI,GAAGG,CAAC,CAACE,MAAM,CAACC;QAC5B;MACF,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,KAAK,CAACC,IAAI,CAAC;IAC9B,CAAC;IAAA,KAEDU,aAAa,GAAG,YAAY;MAC1B,IAAIT,IAAI,GAAG,IAAI,CAACF,KAAK,CAACC,IAAI,CAACC,IAAI;MAC/B,IAAIC,GAAG,GAAG,IAAI,CAACH,KAAK,CAACC,IAAI,CAACE,GAAG;MAC7B,IAAID,IAAI,KAAK,EAAE,IAAIC,GAAG,KAAK,EAAE,EAAE;QAC7BS,KAAK,CAAC,8BAA8B,CAAC;QACrC,OAAO,cAAc;MACvB;MAEA,MAAMhB,KAAK,CAACiB,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,kBAAkB,GAAG,GAAG,GAAGd,IAAI,GAAG,GAAG,GAAGC,GAAG,CAAC,CACrEc,IAAI,CAACC,QAAQ,IAAI;QAChB,OAAOA,QAAQ,CAACC,IAAI;MACtB,CAAC,CAAC,CAACF,IAAI,CAACC,QAAQ,IAAI;QAClBT,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAAC;QACrB,IAAIA,QAAQ,EAAE;UACZpB,OAAO,CAACsB,GAAG,CAAC,KAAK,EAAEF,QAAQ,CAACG,GAAG,EAAE;YAAEC,IAAI,EAAE;UAAI,CAAC,CAAC;UAC/CxB,OAAO,CAACsB,GAAG,CAAC,WAAW,EAAEF,QAAQ,CAACK,SAAS,EAAE;YAAED,IAAI,EAAE;UAAI,CAAC,CAAC;UAC3DxB,OAAO,CAACsB,GAAG,CAAC,aAAa,EAAEF,QAAQ,CAACM,WAAW,EAAE;YAAEF,IAAI,EAAE;UAAI,CAAC,CAAC;UAC/DxB,OAAO,CAACsB,GAAG,CAAC,eAAe,EAAEF,QAAQ,CAACO,aAAa,EAAE;YAAEH,IAAI,EAAE;UAAI,CAAC,CAAC;UACnExB,OAAO,CAACsB,GAAG,CAAC,QAAQ,EAAEF,QAAQ,CAACQ,MAAM,EAAE;YAAEJ,IAAI,EAAE;UAAI,CAAC,CAAC;UACrDV,KAAK,CAAC,aAAa,GAAGM,QAAQ,CAACM,WAAW,CAAC;UAC3C,IAAI,CAAClB,QAAQ,EAAE;UACfqB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,cAAc;QACvC,CAAC,MAAM,CACP;MACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdnB,KAAK,CAAC,kCAAkC,CAAC;QACzCH,OAAO,CAACC,GAAG,CAACqB,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;EAAA;EAEDC,MAAM,GAAG;IACP,oBACE;MAAK,SAAS,EAAC,oBAAoB;MAAA,uBACjC;QAAK,SAAS,EAAC,qBAAqB;QAAA,uBAClC;UAAK,SAAS,EAAC,YAAY;UAAA,wBACzB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAoB,eACpB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAmC,eACnC;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAK,KAAK,EAAC,MAAM;YAAA,wBACf;cAAO,GAAG,EAAC,oBAAoB;cAAC,KAAK,EAAC,YAAY;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAsB,eACxE;cAAO,IAAI,EAAC,OAAO;cACjB,IAAI,EAAC,MAAM;cACX,KAAK,EAAC,cAAc;cACpB,EAAE,EAAC,oBAAoB;cACvB,QAAQ,EAAE,IAAI,CAAC5B,YAAa;cAC5B,oBAAiB;YAAW;cAAA;cAAA;cAAA;YAAA,QAAG,eACjC;cAAK,EAAE,EAAC,WAAW;cAAC,KAAK,EAAC,WAAW;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAqD;UAAA;YAAA;YAAA;YAAA;UAAA,QACtF,eAEN;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAyB,eACzB;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YACE,IAAI,EAAC,UAAU;YACf,SAAS,EAAC,cAAc;YACxB,IAAI,EAAC,KAAK;YACV,QAAQ,EAAE,IAAI,CAACA;UAAa;YAAA;YAAA;YAAA;UAAA,QAC5B,eACF;YAAA;YAAA;YAAA;UAAA,QAAM,eACN;YAAQ,SAAS,EAAC,iBAAiB;YAAC,OAAO,EAAE,MAAM,IAAI,CAACO,aAAa,EAAG;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAwB;QAAA;UAAA;UAAA;UAAA;QAAA;MAC5F;QAAA;QAAA;QAAA;MAAA;IACF;MAAA;MAAA;MAAA;IAAA,QACF;EAEV;AACF;AAEA,eAAeZ,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}